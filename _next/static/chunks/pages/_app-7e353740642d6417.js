(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{3837:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(5857)}])},7390:function(e,t,n){"use strict";n.d(t,{l:function(){return a},D:function(){return l}});var o=n(5893),r=n(7294),c=e=>{let[t,n]=(0,r.useState)([{data:"abc",key:1},{data:"def",key:2}]),[o,c]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let t=new WebSocket(e);return t.onopen=()=>{console.log("connected to "+e)},t.onmessage=e=>{let t={};try{console.log(e.data),(t=JSON.parse(e.data)).key=Date.now()}catch(e){t={key:Date.now(),data:e.toString()}}console.log(t),n(e=>[...e,t])},t.onerror=e=>{console.error("WebSocket error",e)},t.onclose=e=>{console.log("WebSocket connection closed",e)},c(t),()=>{t.close()}},[e,n]),{wsMessages:t,sendWsMessage:e=>{if(o.readyState===WebSocket.OPEN){let t=JSON.stringify(e);console.log(t),o.send(t.toString())}}}};let s=(0,r.createContext)(),a=e=>{let{children:t}=e,[n,a]=(0,r.useState)(0),[l,u]=(0,r.useState)(null),{wsMessages:i,sendWsMessage:d}=c("ws://127.0.0.1:5005/");return(0,o.jsx)(s.Provider,{value:{count:n,time:l,incrementCount:()=>{a(n+1),u(new Date().toLocaleTimeString()),d({data:"test",key:Date.now()})},wsMessages:i,sendWsMessage:d},children:t})},l=()=>(0,r.useContext)(s)},5857:function(e,t,n){"use strict";n.r(t);var o=n(5893),r=n(7390);t.default=function(e){let{Component:t,pageProps:n}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{children:"TITLE"}),(0,o.jsx)(r.l,{children:(0,o.jsx)(t,{...n})})]})}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],function(){return t(3837),t(6885)}),_N_E=e.O()}]);